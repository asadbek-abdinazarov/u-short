<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            &#45;&#45;cream-light: #F9F8F7;
            &#45;&#45;cream-dark: #F3F0E0;
            &#45;&#45;navy: #161827;
            &#45;&#45;neon-green: #E6FF74;
            &#45;&#45;neon-glow: rgba(230, 255, 116, 0.3);
            &#45;&#45;navy-transparent: rgba(22, 24, 39, 0.95);
            &#45;&#45;cream-transparent: rgba(249, 248, 247, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;navy);
            background-image:
                    radial-gradient(circle at 15% 25%, var(&#45;&#45;neon-glow) 0%, transparent 40%),
                    radial-gradient(circle at 85% 75%, var(&#45;&#45;neon-glow) 0%, transparent 40%),
                    radial-gradient(circle at 50% 50%, rgba(243, 240, 224, 0.05) 0%, transparent 60%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;cream-light);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;cream-transparent);
            border: 1px solid rgba(249, 248, 247, 0.2);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(249, 248, 247, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(&#45;&#45;neon-green), transparent, var(&#45;&#45;neon-green));
            border-radius: 24px;
            z-index: -1;
            opacity: 0.5;
            animation: borderGlow 4s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;neon-green);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            text-shadow: 0 0 20px var(&#45;&#45;neon-glow);
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;cream-light);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;cream-dark);
            font-weight: 400;
            opacity: 0.8;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(249, 248, 247, 0.2);
            border-radius: 16px;
            background: rgba(249, 248, 247, 0.05);
            color: var(&#45;&#45;cream-light);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: rgba(243, 240, 224, 0.6);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;neon-green);
            background: rgba(249, 248, 247, 0.08);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;neon-glow),
                    0 8px 24px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: var(&#45;&#45;neon-green);
            color: var(&#45;&#45;navy);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 4px 16px rgba(230, 255, 116, 0.3);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(22, 24, 39, 0.1), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(230, 255, 116, 0.4);
            background: #e8f769;
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            background: rgba(230, 255, 116, 0.1);
            border: 1px solid rgba(230, 255, 116, 0.3);
            color: var(&#45;&#45;cream-light);
        }

        .alert-danger {
            background: rgba(255, 99, 99, 0.1);
            border: 1px solid rgba(255, 99, 99, 0.3);
            color: #ffb3b3;
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;neon-green);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: var(&#45;&#45;neon-green);
            color: var(&#45;&#45;navy);
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(230, 255, 116, 0.4);
            color: var(&#45;&#45;navy);
            text-decoration: none;
            background: #e8f769;
        }

        .copy-button {
            padding: 12px 20px;
            background: transparent;
            border: 2px solid var(&#45;&#45;neon-green);
            color: var(&#45;&#45;neon-green);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;neon-green);
            color: var(&#45;&#45;navy);
            transform: translateY(-2px);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .error-content {
            flex: 1;
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        @keyframes spin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 15;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;neon-green)';
            btn.style.color = 'var(&#45;&#45;navy)';
            btn.style.borderColor = 'var(&#45;&#45;neon-green)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'transparent';
                btn.style.color = 'var(&#45;&#45;neon-green)';
                btn.style.borderColor = 'var(&#45;&#45;neon-green)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            &#45;&#45;main-dark: #0D0F1C;
            &#45;&#45;main-light: #F2F6FA;
            &#45;&#45;accent-electric: #7DF9FF;
            &#45;&#45;accent-purple: #A56EFF;
            &#45;&#45;glow-effect: rgba(125, 249, 255, 0.3);
            &#45;&#45;dark-glass: rgba(13, 15, 28, 0.9);
            &#45;&#45;light-glass: rgba(242, 246, 250, 0.05);
            &#45;&#45;purple-glow: rgba(165, 110, 255, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;main-dark);
            background-image:
                    radial-gradient(circle at 15% 25%, var(&#45;&#45;glow-effect) 0%, transparent 40%),
                    radial-gradient(circle at 85% 75%, var(&#45;&#45;purple-glow) 0%, transparent 40%),
                    radial-gradient(circle at 50% 50%, var(&#45;&#45;light-glass) 0%, transparent 60%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;main-light);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;light-glass);
            border: 1px solid rgba(242, 246, 250, 0.1);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.5),
                    inset 0 1px 0 rgba(242, 246, 250, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(&#45;&#45;accent-electric), var(&#45;&#45;accent-purple), var(&#45;&#45;accent-electric));
            border-radius: 24px;
            z-index: -1;
            opacity: 0.4;
            animation: borderGlow 4s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-purple);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            text-shadow: 0 0 20px var(&#45;&#45;purple-glow);
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;main-light);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 0 10px rgba(242, 246, 250, 0.2);
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;main-light);
            font-weight: 400;
            opacity: 0.7;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(242, 246, 250, 0.2);
            border-radius: 16px;
            background: rgba(242, 246, 250, 0.05);
            color: var(&#45;&#45;main-light);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: rgba(242, 246, 250, 0.5);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-electric);
            background: rgba(242, 246, 250, 0.08);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;glow-effect),
                    0 8px 24px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-electric), var(&#45;&#45;accent-purple));
            color: var(&#45;&#45;main-dark);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 4px 16px var(&#45;&#45;glow-effect);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(242, 246, 250, 0.2), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px var(&#45;&#45;glow-effect), 0 4px 12px var(&#45;&#45;purple-glow);
            background: linear-gradient(135deg, #6be8f0, #9558e6);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            background: rgba(125, 249, 255, 0.1);
            border: 1px solid rgba(125, 249, 255, 0.3);
            color: var(&#45;&#45;main-light);
        }

        .alert-danger {
            background: rgba(255, 99, 99, 0.1);
            border: 1px solid rgba(255, 99, 99, 0.3);
            color: #ffb3b3;
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-electric);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-electric), var(&#45;&#45;accent-purple));
            color: var(&#45;&#45;main-dark);
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 4px 12px var(&#45;&#45;glow-effect);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;glow-effect), 0 4px 12px var(&#45;&#45;purple-glow);
            color: var(&#45;&#45;main-dark);
            text-decoration: none;
            background: linear-gradient(135deg, #6be8f0, #9558e6);
        }

        .copy-button {
            padding: 12px 20px;
            background: transparent;
            border: 2px solid var(&#45;&#45;accent-electric);
            color: var(&#45;&#45;accent-electric);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-electric);
            color: var(&#45;&#45;main-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(&#45;&#45;glow-effect);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .error-content {
            flex: 1;
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        @keyframes spin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 15;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-electric)';
            btn.style.color = 'var(&#45;&#45;main-dark)';
            btn.style.borderColor = 'var(&#45;&#45;accent-electric)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'transparent';
                btn.style.color = 'var(&#45;&#45;accent-electric)';
                btn.style.borderColor = 'var(&#45;&#45;accent-electric)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* Happy, vibrant color scheme */
            &#45;&#45;main-dark: #1a0f2e; /* Deep purple instead of pure dark */
            &#45;&#45;main-light: #ffffff;
            &#45;&#45;accent-primary: #ff6b6b; /* Coral red for energy */
            &#45;&#45;accent-secondary: #4ecdc4; /* Turquoise for freshness */
            &#45;&#45;accent-tertiary: #45b7d1; /* Bright blue for trust */
            &#45;&#45;accent-warm: #feca57; /* Sunny yellow for happiness */
            &#45;&#45;accent-pink: #ff9ff3; /* Bright pink for fun */

            /* Glow effects with happy colors */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);

            /* Glass effects */
            &#45;&#45;dark-glass: rgba(26, 15, 46, 0.85);
            &#45;&#45;light-glass: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;main-light);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;light-glass);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-primary),
            var(&#45;&#45;accent-secondary),
            var(&#45;&#45;accent-warm),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-tertiary));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            background: linear-gradient(45deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(&#45;&#45;accent-warm), var(&#45;&#45;accent-primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            filter: drop-shadow(0 0 10px var(&#45;&#45;yellow-glow));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;main-light);
            font-weight: 400;
            opacity: 0.9;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            color: var(&#45;&#45;main-light);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-secondary);
            background: rgba(255, 255, 255, 0.15);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-warm));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            background: rgba(78, 205, 196, 0.2);
            border: 2px solid rgba(78, 205, 196, 0.4);
            color: var(&#45;&#45;main-light);
        }

        .alert-danger {
            background: rgba(255, 107, 107, 0.2);
            border: 2px solid rgba(255, 107, 107, 0.4);
            color: var(&#45;&#45;main-light);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-secondary), var(&#45;&#45;accent-tertiary));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: transparent;
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-primary);
        }

        .error-content {
            flex: 1;
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        @keyframes spin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }

        /* Floating particles with happy colors */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-primary); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-secondary); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-warm); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-tertiary); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 20;
        const colors = ['var(&#45;&#45;accent-primary)', 'var(&#45;&#45;accent-secondary)', 'var(&#45;&#45;accent-warm)', 'var(&#45;&#45;accent-pink)', 'var(&#45;&#45;accent-tertiary)'];

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particle.style.background = colors[i % colors.length];
            particle.style.boxShadow = `0 0 10px ${colors[i % colors.length]}`;
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-secondary)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-secondary)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'transparent';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* Happy, vibrant color scheme with better contrast */
            &#45;&#45;main-dark: #1a0f2e;
            &#45;&#45;main-light: #ffffff;
            &#45;&#45;text-primary: #2d3748; /* Dark text for light backgrounds */
            &#45;&#45;text-secondary: #4a5568; /* Medium dark for secondary text */
            &#45;&#45;text-light: #ffffff; /* White text for dark backgrounds */

            &#45;&#45;accent-primary: #ff6b6b; /* Coral red */
            &#45;&#45;accent-secondary: #4ecdc4; /* Turquoise */
            &#45;&#45;accent-tertiary: #45b7d1; /* Bright blue */
            &#45;&#45;accent-warm: #feca57; /* Sunny yellow */
            &#45;&#45;accent-pink: #ff9ff3; /* Bright pink */

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);

            /* Glass effects with better opacity for readability */
            &#45;&#45;card-background: rgba(255, 255, 255, 0.95);
            &#45;&#45;input-background: rgba(255, 255, 255, 0.9);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            background-image: radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
            radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
            radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;card-background);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
            padding: 48px;
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.4);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
        }

        .logo-icon {
            font-size: 3.5rem;
            background: linear-gradient(45deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
            opacity: 1;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;input-background);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-secondary);
            font-weight: 400;
            opacity: 0.8;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-secondary);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 0 4px var(&#45;&#45;turquoise-glow),
            0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
            color: var(&#45;&#45;text-primary);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-primary), var(&#45;&#45;accent-warm));
            color: var(&#45;&#45;text-light);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .alert-success {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(&#45;&#45;accent-secondary);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
        }

        .alert-danger {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(&#45;&#45;accent-primary);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-shadow: none;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-secondary), var(&#45;&#45;accent-tertiary));
            color: var(&#45;&#45;text-light);
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: var(&#45;&#45;text-light);
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
            backdrop-filter: blur(10px);
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;text-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }


        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-primary),
            var(&#45;&#45;accent-secondary),
            var(&#45;&#45;accent-warm),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-tertiary));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        @keyframes borderGlow {
            0%, 100% {
                opacity: 0.4;
            }
            50% {
                opacity: 0.8;
            }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }


        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }


        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }


        .success-content {
            text-align: center;
        }


        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }


        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        @keyframes spin {
            0% {
                transform: translateY(-50%) rotate(0deg);
            }
            100% {
                transform: translateY(-50%) rotate(360deg);
            }
        }

        /* Floating particles with happy colors */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) {
            background: var(&#45;&#45;accent-primary);
        }

        .particle:nth-child(2) {
            background: var(&#45;&#45;accent-secondary);
        }

        .particle:nth-child(3) {
            background: var(&#45;&#45;accent-warm);
        }

        .particle:nth-child(4) {
            background: var(&#45;&#45;accent-pink);
        }

        .particle:nth-child(5) {
            background: var(&#45;&#45;accent-tertiary);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 20;
        const colors = ['var(&#45;&#45;accent-primary)', 'var(&#45;&#45;accent-secondary)', 'var(&#45;&#45;accent-warm)', 'var(&#45;&#45;accent-pink)', 'var(&#45;&#45;accent-tertiary)'];

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particle.style.background = colors[i % colors.length];
            particle.style.boxShadow = `0 0 10px ${colors[i % colors.length]}`;
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-secondary)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-secondary)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'transparent';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function (e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function () {
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function () {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function () {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function (e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function () {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;     /* 60% - Light background */
            &#45;&#45;secondary-30: #e2e8f0;   /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #4a5568;
            &#45;&#45;text-muted: #718096;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.3);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.3);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.3);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;     /* 60% - Dark background */
            &#45;&#45;secondary-30: #1e293b;   /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid rgba(255, 107, 107, 0.2);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .theme-toggle {
                top: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="theme-icon"></i>
    <span id="theme-text">Dark Mode</span>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Theme management
    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
        }
    }

    // Load saved theme
    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'var(&#45;&#45;primary-60)';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        loadTheme();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>
-->
<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;     /* 60% - Light background */
            &#45;&#45;secondary-30: #ffffff;   /* 30% - Card backgrounds (pure white) */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;   /* Darker text */
            &#45;&#45;text-secondary: #2d3748; /* Darker secondary text */
            &#45;&#45;text-muted: #4a5568;     /* Darker muted text */

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;   /* Darker coral for better contrast */
            &#45;&#45;accent-turquoise: #319795; /* Darker turquoise */
            &#45;&#45;accent-yellow: #d69e2e;  /* Darker yellow */
            &#45;&#45;accent-pink: #d53f8c;    /* Darker pink */
            &#45;&#45;accent-blue: #3182ce;    /* Darker blue */

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;     /* 60% - Dark background */
            &#45;&#45;secondary-30: #1e293b;   /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .theme-toggle {
                top: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="theme-icon"></i>
    <span id="theme-text">Dark Mode</span>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Theme management
    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
        }
    }

    // Load saved theme
    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'var(&#45;&#45;primary-60)';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        loadTheme();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;     /* 60% - Light background */
            &#45;&#45;secondary-30: #ffffff;   /* 30% - Card backgrounds (pure white) */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;   /* Darker text */
            &#45;&#45;text-secondary: #2d3748; /* Darker secondary text */
            &#45;&#45;text-muted: #4a5568;     /* Darker muted text */

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;   /* Darker coral for better contrast */
            &#45;&#45;accent-turquoise: #319795; /* Darker turquoise */
            &#45;&#45;accent-yellow: #d69e2e;  /* Darker yellow */
            &#45;&#45;accent-pink: #d53f8c;    /* Darker pink */
            &#45;&#45;accent-blue: #3182ce;    /* Darker blue */

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;     /* 60% - Dark background */
            &#45;&#45;secondary-30: #1e293b;   /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .theme-toggle {
                top: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.3s ease;
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
        }

        .warning-content {
            flex: 1;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .warning-close {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .warning-close:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hidden state for warning card */
        .warning-card.hidden {
            display: none;
        }
    </style>
</head>
<body>
<div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="theme-icon"></i>
    <span id="theme-text">Dark Mode</span>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        &lt;!&ndash; Warning Card &ndash;&gt;
        <div class="warning-card" id="warningCard">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span>Important Notice</span>
                </div>
                <div class="warning-text">
                    Please ensure your URLs are safe and comply with our terms of service. Shortened URLs are permanent and cannot be modified once created.
                </div>
            </div>
            <button class="warning-close" onclick="closeWarning()" title="Close warning">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Theme management
    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
        }
    }

    // Load saved theme
    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'var(&#45;&#45;primary-60)';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    // Warning card management
    function closeWarning() {
        const warningCard = document.getElementById('warningCard');
        warningCard.style.animation = 'slideOutUp 0.4s ease-in-out';

        setTimeout(() => {
            warningCard.classList.add('hidden');
            localStorage.setItem('warningClosed', 'true');
        }, 400);
    }

    // Check if warning was previously closed
    function checkWarningState() {
        const warningClosed = localStorage.getItem('warningClosed');
        if (warningClosed === 'true') {
            document.getElementById('warningCard').classList.add('hidden');
        }
    }

    // Add slideOutUp animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideOutUp {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-24px);
            }
        }
    `;
    document.head.appendChild(style);

    document.addEventListener('DOMContentLoaded', function() {
        loadTheme();
        checkWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;     /* 60% - Light background */
            &#45;&#45;secondary-30: #ffffff;   /* 30% - Card backgrounds (pure white) */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;   /* Darker text */
            &#45;&#45;text-secondary: #2d3748; /* Darker secondary text */
            &#45;&#45;text-muted: #4a5568;     /* Darker muted text */

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;   /* Darker coral for better contrast */
            &#45;&#45;accent-turquoise: #319795; /* Darker turquoise */
            &#45;&#45;accent-yellow: #d69e2e;  /* Darker yellow */
            &#45;&#45;accent-pink: #d53f8c;    /* Darker pink */
            &#45;&#45;accent-blue: #3182ce;    /* Darker blue */

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;     /* 60% - Dark background */
            &#45;&#45;secondary-30: #1e293b;   /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b;      /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .theme-toggle {
                top: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.3s ease;
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
        }

        .warning-content {
            flex: 1;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .warning-close {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .warning-close:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hidden state for warning card */
        .warning-card.hidden {
            display: none;
        }
    </style>
</head>
<body>
<div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="theme-icon"></i>
    <span id="theme-text">Dark Mode</span>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        &lt;!&ndash; Warning Card &ndash;&gt;
        <div class="warning-card" id="warningCard">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span>Important Notice</span>
                </div>
                <div class="warning-text">
                    Please ensure your URLs are safe and comply with our terms of service. Shortened URLs are permanent and cannot be modified once created.
                </div>
            </div>
            <button class="warning-close" onclick="closeWarning()" title="Close warning">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;
        const colors = ['var(&#45;&#45;accent-primary)', 'var(&#45;&#45;accent-secondary)', 'var(&#45;&#45;accent-warm)', 'var(&#45;&#45;accent-pink)', 'var(&#45;&#45;accent-tertiary)'];

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particle.style.background = colors[i % colors.length];
            particle.style.boxShadow = `0 0 10px ${colors[i % colors.length]}`;
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'var(&#45;&#45;primary-60)';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    function closeWarning() {
        const warningCard = document.getElementById('warningCard');
        warningCard.style.animation = 'slideOutUp 0.4s ease-in-out';

        setTimeout(() => {
            warningCard.classList.add('hidden');
            localStorage.setItem('warningClosed', 'true');
        }, 400);
    }

    function checkWarningState() {
        const warningClosed = localStorage.getItem('warningClosed');
        if (warningClosed === 'true') {
            document.getElementById('warningCard').classList.add('hidden');
        }
    }

    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideOutUp {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-24px);
            }
        }
    `;
    document.head.appendChild(style);

    document.addEventListener('DOMContentLoaded', function() {
        loadTheme();
        checkWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->
<!--
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc; /* 60% - Light background */
            &#45;&#45;secondary-30: #ffffff; /* 30% - Card backgrounds (pure white) */
            &#45;&#45;accent-10: #ff6b6b; /* 10% - Accent color */

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c; /* Darker text */
            &#45;&#45;text-secondary: #2d3748; /* Darker secondary text */
            &#45;&#45;text-muted: #4a5568; /* Darker muted text */

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e; /* Darker coral for better contrast */
            &#45;&#45;accent-turquoise: #319795; /* Darker turquoise */
            &#45;&#45;accent-yellow: #d69e2e; /* Darker yellow */
            &#45;&#45;accent-pink: #d53f8c; /* Darker pink */
            &#45;&#45;accent-blue: #3182ce; /* Darker blue */

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a; /* 60% - Dark background */
            &#45;&#45;secondary-30: #1e293b; /* 30% - Card backgrounds */
            &#45;&#45;accent-10: #ff6b6b; /* 10% - Accent color */

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image: radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
            radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
            radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 48px;
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-8px);
            }
        }

        @keyframes borderGlow {
            0%, 100% {
                opacity: 0.4;
            }
            50% {
                opacity: 0.8;
            }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow: 0 0 0 4px var(&#45;&#45;turquoise-glow),
            0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) {
            background: var(&#45;&#45;accent-coral);
        }

        .particle:nth-child(2) {
            background: var(&#45;&#45;accent-turquoise);
        }

        .particle:nth-child(3) {
            background: var(&#45;&#45;accent-yellow);
        }

        .particle:nth-child(4) {
            background: var(&#45;&#45;accent-pink);
        }

        .particle:nth-child(5) {
            background: var(&#45;&#45;accent-blue);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .theme-toggle {
                top: 15px;
                right: 15px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1;
            transition: all 0.4s ease;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 100px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        /* Expand hint for collapsed state */
        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }
    </style>
</head>
<body>
<div class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="theme-icon"></i>
    <span id="theme-text">Dark Mode</span>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span>Important Notice</span>
                </div>
                <div class="warning-text">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided “as is” with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> Create Short URL
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span>Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = 'Light Mode';
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = 'Dark Mode';
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;
        const colors = ['var(&#45;&#45;accent-primary)', 'var(&#45;&#45;accent-secondary)', 'var(&#45;&#45;accent-warm)', 'var(&#45;&#45;accent-pink)', 'var(&#45;&#45;accent-tertiary)'];

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particle.style.background = colors[i % colors.length];
            particle.style.boxShadow = `0 0 10px ${colors[i % colors.length]}`;
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            btn.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.style.color = 'white';
            btn.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.innerHTML = originalContent;
                btn.style.background = 'var(&#45;&#45;primary-60)';
                btn.style.color = 'var(&#45;&#45;accent-pink)';
                btn.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button');
            const originalContent = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
            setTimeout(() => {
                btn.innerHTML = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function (e) {
        const btn = document.querySelector('.submit-button');
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
        btn.disabled = true;
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function () {
        loadTheme();
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function () {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function () {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function (e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function () {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->

<!--
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;
            &#45;&#45;secondary-30: #ffffff;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #2d3748;
            &#45;&#45;text-muted: #4a5568;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;
            &#45;&#45;accent-turquoise: #319795;
            &#45;&#45;accent-yellow: #d69e2e;
            &#45;&#45;accent-pink: #d53f8c;
            &#45;&#45;accent-blue: #3182ce;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;
            &#45;&#45;secondary-30: #1e293b;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .controls-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .theme-toggle, .language-selector {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
        }

        .language-selector {
            border-color: var(&#45;&#45;accent-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            position: relative;
        }

        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(49, 130, 206, 0.4);
            background: var(&#45;&#45;accent-blue);
            color: white;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-blue);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .language-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .language-option:hover {
            background: var(&#45;&#45;accent-blue);
            color: white;
        }

        .language-option:first-child {
            border-radius: 10px 10px 0 0;
        }

        .language-option:last-child {
            border-radius: 0 0 10px 10px;
        }

        .language-option.active {
            background: rgba(49, 130, 206, 0.1);
            color: var(&#45;&#45;accent-blue);
            font-weight: 600;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 48px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1;
            transition: all 0.4s ease;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 200px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            overflow-y: auto;
            padding-right: 8px;
        }

        .warning-text::-webkit-scrollbar {
            width: 6px;
        }

        .warning-text::-webkit-scrollbar-track {
            background: rgba(254, 202, 87, 0.1);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb {
            background: var(&#45;&#45;accent-yellow);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb:hover {
            background: #c69500;
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .warning-text li {
            margin-bottom: 8px;
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .controls-container {
                top: 15px;
                right: 15px;
                flex-direction: column;
                gap: 8px;
            }

            .theme-toggle, .language-selector {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 32px 24px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .controls-container {
                top: 10px;
                right: 10px;
            }

            .theme-toggle, .language-selector {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 24px 20px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="controls-container">
    <div class="language-selector" onclick="toggleLanguageDropdown()">
        <i class="fas fa-globe"></i>
        <span id="current-language">EN</span>
        <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" onclick="changeLanguage('en')">
                <span>🇺🇸</span>
                <span>English</span>
            </div>
            <div class="language-option" onclick="changeLanguage('uz')">
                <span>🇺🇿</span>
                <span>O'zbek</span>
            </div>
            <div class="language-option" onclick="changeLanguage('ru')">
                <span>🇷🇺</span>
                <span>Русский</span>
            </div>
        </div>
    </div>
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text" data-key="darkMode">Dark Mode</span>
    </div>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle" data-key="subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span data-key="warningTitle">Important Notice</span>
                </div>
                <div class="warning-text" data-key="warningText">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided "as is" with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           data-key="placeholder"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> <span data-key="createButton">Create Short URL</span>
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span data-key="successTitle">Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> <span data-key="copyButton">Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Language translations
    const translations = {
        en: {
            darkMode: "Dark Mode",
            lightMode: "Light Mode",
            subtitle: "Premium URL Shortener now Free",
            warningTitle: "Important Notice",
            warningText: `Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                Once created, shortened URLs are permanent and cannot be modified.

                We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                activities. Any user found abusing this service for such purposes will have their information
                reported to the relevant authorities.

                By using this service, you agree that:

                <ul>
                    <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                    <li>Our service is provided "as is" with no guarantees or warranties.</li>
                    <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                        platform.
                    </li>
                </ul>
                <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>`,
            placeholder: "🌐 Enter your long URL here...",
            createButton: "Create Short URL",
            successTitle: "Your short URL is ready!",
            copyButton: "Copy Link",
            copied: "Copied!",
            creating: "Creating..."
        },
        uz: {
            darkMode: "Qorong'u rejim",
            lightMode: "Yorug' rejim",
            subtitle: "Premium URL qisqartiruvchi endi bepul",
            warningTitle: "Muhim xabar",
            warningText: `Iltimos, xizmatimiz orqali qisqartirilgan barcha URL manzillar xavfsiz, qonuniy va mas'uliyat bilan ishlatilishini ta'minlang.
                Yaratilgandan so'ng, qisqartirilgan URL manzillar doimiy bo'lib, o'zgartirib bo'lmaydi.

                Biz hech qanday xakerlik, fishing, firibgarlik yoki boshqa zararli yoki noqonuniy
                faoliyatni qo'llab-quvvatlamaymiz va ma'qullamaymiz. Bunday maqsadlarda xizmatni suiiste'mol qilgan har qanday foydalanuvchi haqidagi ma'lumotlar
                tegishli organlarga xabar qilinadi.

                Ushbu xizmatdan foydalanish orqali siz quyidagilarni tan olasiz:

                <ul>
                    <li>Siz qisqartirgan URL manzillarning mazmuni va manzili uchun to'liq javobgarsiz.</li>
                    <li>Bizning xizmatimiz hech qanday kafolat va kafolatlarsiz "bor holatida" taqdim etiladi.</li>
                    <li>Ushbu platforma orqali yaratilgan URL manzillarning noto'g'ri ishlatilishi yoki zarar yetkazishi uchun biz javobgar bo'lmaymiz.
                    </li>
                </ul>
                <b>O'z xavf-xataringiz ostida foydalaning. Qonunlar va jamiyat me'yorlariga ehtiyotkor va hurmatli bo'ling.</b>`,
            placeholder: "🌐 Uzun URL manzilingizni kiriting...",
            createButton: "Qisqa URL yaratish",
            successTitle: "Sizning qisqa URL manzilingiz tayyor!",
            copyButton: "Havolani nusxalash",
            copied: "Nusxalandi!",
            creating: "Yaratilmoqda..."
        },
        ru: {
            darkMode: "Тёмный режим",
            lightMode: "Светлый режим",
            subtitle: "Премиум сокращатель URL теперь бесплатно",
            warningTitle: "Важное уведомление",
            warningText: `Пожалуйста, убедитесь, что все URL-адреса, сокращённые через наш сервис, безопасны, законны и используются ответственно.
                После создания сокращённые URL-адреса являются постоянными и не могут быть изменены.

                Мы не поддерживаем и не одобряем любые формы взлома, фишинга, мошенничества или других вредоносных или незаконных
                действий. Любой пользователь, злоупотребляющий этим сервисом для таких целей, будет иметь свою информацию
                переданную соответствующим органам.

                Используя этот сервис, вы соглашаетесь с тем, что:

                <ul>
                    <li>Вы несёте полную ответственность за содержание и назначение сокращаемых URL-адресов.</li>
                    <li>Наш сервис предоставляется "как есть" без каких-либо гарантий или поручительств.</li>
                    <li>Мы не несём ответственности за любое неправильное использование или ущерб, причинённый URL-адресами, созданными через эту
                        платформу.
                    </li>
                </ul>
                <b>Используйте на свой страх и риск. Будьте осторожны и уважительны к законам и общественным стандартам.</b>`,
            placeholder: "🌐 Введите ваш длинный URL здесь...",
            createButton: "Создать короткий URL",
            successTitle: "Ваш короткий URL готов!",
            copyButton: "Копировать ссылку",
            copied: "Скопировано!",
            creating: "Создание..."
        }
    };

    let currentLanguage = 'en';

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[lang];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });
        event.target.closest('.language-option').classList.add('active');

        // Update all translatable elements
        updateTranslations();

        // Close dropdown
        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateTranslations() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[currentLanguage][key]) {
                if (element.tagName === 'INPUT') {
                    element.placeholder = translations[currentLanguage][key];
                } else {
                    element.innerHTML = translations[currentLanguage][key];
                }
            }
        });
    }

    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function loadLanguage() {
        const savedLanguage = localStorage.getItem('language') || 'en';
        if (savedLanguage !== 'en') {
            changeLanguage(savedLanguage);
        }
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const dropdown = document.getElementById('languageDropdown');

        if (!languageSelector.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });

    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;
        const colors = ['var(&#45;&#45;accent-primary)', 'var(&#45;&#45;accent-secondary)', 'var(&#45;&#45;accent-warm)', 'var(&#45;&#45;accent-pink)', 'var(&#45;&#45;accent-tertiary)'];

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particle.style.background = colors[i % colors.length];
            particle.style.boxShadow = `0 0 10px ${colors[i % colors.length]}`;
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;

            btn.textContent = translations[currentLanguage].copied;
            btn.parentElement.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.parentElement.style.color = 'white';
            btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.textContent = originalContent;
                btn.parentElement.style.background = 'var(&#45;&#45;primary-60)';
                btn.parentElement.style.color = 'var(&#45;&#45;accent-pink)';
                btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;
            btn.textContent = translations[currentLanguage].copied;
            setTimeout(() => {
                btn.textContent = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button span');
        btn.textContent = translations[currentLanguage].creating;
        document.querySelector('.submit-button').disabled = true;
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadLanguage();
        loadTheme();
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>

-->

<!--
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;
            &#45;&#45;secondary-30: #ffffff;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #2d3748;
            &#45;&#45;text-muted: #4a5568;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;
            &#45;&#45;accent-turquoise: #319795;
            &#45;&#45;accent-yellow: #d69e2e;
            &#45;&#45;accent-pink: #d53f8c;
            &#45;&#45;accent-blue: #3182ce;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;
            &#45;&#45;secondary-30: #1e293b;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .controls-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .theme-toggle, .language-selector {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
        }

        .language-selector {
            border-color: var(&#45;&#45;accent-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            position: relative;
        }

        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(49, 130, 206, 0.4);
            background: var(&#45;&#45;accent-blue);
            color: black;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-blue);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .language-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .language-option:hover {
            background: var(&#45;&#45;accent-blue);
            color: #0077b6 !important;
        }

        .language-option:first-child {
            border-radius: 10px 10px 0 0;
        }

        .language-option:last-child {
            border-radius: 0 0 10px 10px;
        }

        .language-option.active {
            background: rgba(49, 130, 206, 0.1);
            color: var(&#45;&#45;accent-blue);
            font-weight: 600;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 32px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1.2;
            transition: all 0.4s ease;
            max-width: none;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 180px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            overflow-y: auto;
            padding-right: 8px;
        }

        .warning-text::-webkit-scrollbar {
            width: 6px;
        }

        .warning-text::-webkit-scrollbar-track {
            background: rgba(254, 202, 87, 0.1);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb {
            background: var(&#45;&#45;accent-yellow);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb:hover {
            background: #c69500;
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .warning-text li {
            margin-bottom: 8px;
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .controls-container {
                top: 15px;
                right: 15px;
                flex-direction: column;
                gap: 8px;
            }

            .theme-toggle, .language-selector {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 28px 20px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .controls-container {
                top: 10px;
                right: 10px;
            }

            .theme-toggle, .language-selector {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 20px 16px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="controls-container">
    <div class="language-selector" onclick="toggleLanguageDropdown()">
        <i class="fas fa-globe"></i>
        <span id="current-language">EN</span>
        <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option" onclick="changeLanguage('en')">
                <span>🇺🇸</span>
                <span>English</span>
            </div>
            <div class="language-option active" onclick="changeLanguage('uz')">
                <span>🇺🇿</span>
                <span>O'zbek</span>
            </div>
            <div class="language-option" onclick="changeLanguage('ru')">
                <span>🇷🇺</span>
                <span>Русский</span>
            </div>
        </div>
    </div>
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text" data-key="darkMode">Dark Mode</span>
    </div>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle" data-key="subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span data-key="warningTitle">Important Notice</span>
                </div>
                <div class="warning-text" data-key="warningText">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided "as is" with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           data-key="placeholder"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> <span data-key="createButton">Create Short URL</span>
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span data-key="successTitle">Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> <span data-key="copyButton">Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Language translations
    const translations = {
        en: {
            darkMode: "Dark Mode",
            lightMode: "Light Mode",
            subtitle: "Premium URL Shortener now Free",
            warningTitle: "Important Notice",
            warningText: `Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                Once created, shortened URLs are permanent and cannot be modified.

                We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                activities. Any user found abusing this service for such purposes will have their information
                reported to the relevant authorities.

                By using this service, you agree that:

                <ul>
                    <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                    <li>Our service is provided "as is" with no guarantees or warranties.</li>
                    <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                        platform.
                    </li>
                </ul>
                <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>`,
            placeholder: "🌐 Enter your long URL here...",
            createButton: "Create Short URL",
            successTitle: "Your short URL is ready!",
            copyButton: "Copy Link",
            copied: "Copied!",
            creating: "Creating..."
        },
        uz: {
            darkMode: "Qorong'u rejim",
            lightMode: "Yorug' rejim",
            subtitle: "Premium URL qisqartiruvchi endi bepul",
            warningTitle: "Muhim xabar",
            warningText: `Iltimos, xizmatimiz orqali qisqartirilgan barcha URL manzillar xavfsiz, qonuniy va mas'uliyat bilan ishlatilishini ta'minlang.
                Yaratilgandan so'ng, qisqartirilgan URL manzillar doimiy bo'lib, o'zgartirib bo'lmaydi.

                Biz hech qanday xakerlik, fishing, firibgarlik yoki boshqa zararli yoki noqonuniy
                faoliyatni qo'llab-quvvatlamaymiz va ma'qullamaymiz. Bunday maqsadlarda xizmatni suiiste'mol qilgan har qanday foydalanuvchi haqidagi ma'lumotlar
                tegishli organlarga xabar qilinadi.

                Ushbu xizmatdan foydalanish orqali siz quyidagilarni tan olasiz:

                <ul>
                    <li>Siz qisqartirgan URL manzillarning mazmuni va manzili uchun to'liq javobgarsiz.</li>
                    <li>Bizning xizmatimiz hech qanday kafolat va kafolatlarsiz "bor holatida" taqdim etiladi.</li>
                    <li>Ushbu platforma orqali yaratilgan URL manzillarning noto'g'ri ishlatilishi yoki zarar yetkazishi uchun biz javobgar bo'lmaymiz.
                    </li>
                </ul>
                <b>O'z xavf-xataringiz ostida foydalaning. Qonunlar va jamiyat me'yorlariga ehtiyotkor va hurmatli bo'ling.</b>`,
            placeholder: "🌐 Uzun URL manzilingizni kiriting...",
            createButton: "Qisqa URL yaratish",
            successTitle: "Sizning qisqa URL manzilingiz tayyor!",
            copyButton: "Havolani nusxalash",
            copied: "Nusxalandi!",
            creating: "Yaratilmoqda..."
        },
        ru: {
            darkMode: "Тёмный режим",
            lightMode: "Светлый режим",
            subtitle: "Премиум сокращатель URL теперь бесплатно",
            warningTitle: "Важное уведомление",
            warningText: `Пожалуйста, убедитесь, что все URL-адреса, сокращённые через наш сервис, безопасны, законны и используются ответственно.
                После создания сокращённые URL-адреса являются постоянными и не могут быть изменены.

                Мы не поддерживаем и не одобряем любые формы взлома, фишинга, мошенничества или других вредоносных или незаконных
                действий. Любой пользователь, злоупотребляющий этим сервисом для таких целей, будет иметь свою информацию
                переданную соответствующим органам.

                Используя этот сервис, вы соглашаетесь с тем, что:

                <ul>
                    <li>Вы несёте полную ответственность за содержание и назначение сокращаемых URL-адресов.</li>
                    <li>Наш сервис предоставляется "как есть" без каких-либо гарантий или поручительств.</li>
                    <li>Мы не несём ответственности за любое неправильное использование или ущерб, причинённый URL-адресами, созданными через эту
                        платформу.
                    </li>
                </ul>
                <b>Используйте на свой страх и риск. Будьте осторожны и уважительны к законам и общественным стандартам.</b>`,
            placeholder: "🌐 Введите ваш длинный URL здесь...",
            createButton: "Создать короткий URL",
            successTitle: "Ваш короткий URL готов!",
            copyButton: "Копировать ссылку",
            copied: "Скопировано!",
            creating: "Создание..."
        }
    };

    let currentLanguage = 'en';

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);

        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[lang];

        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        const clickedOption = document.querySelector(`[onclick="changeLanguage('${lang}')"]`);
        if (clickedOption) {
            clickedOption.classList.add('active');
        }

        updateTranslations();

        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateTranslations() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[currentLanguage][key]) {
                if (element.tagName === 'INPUT') {
                    element.placeholder = translations[currentLanguage][key];
                } else {
                    element.innerHTML = translations[currentLanguage][key];
                }
            }
        });
    }

    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function loadLanguage() {
        const savedLanguage = localStorage.getItem('language') || 'en';
        currentLanguage = savedLanguage;

        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[savedLanguage];

        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        const activeOption = document.querySelector(`[onclick="changeLanguage('${savedLanguage}')"]`);
        if (activeOption) {
            activeOption.classList.add('active');
        }

        updateTranslations();
    }

    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const dropdown = document.getElementById('languageDropdown');

        if (!languageSelector.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });

    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;

            btn.textContent = translations[currentLanguage].copied;
            btn.parentElement.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.parentElement.style.color = 'white';
            btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.textContent = originalContent;
                btn.parentElement.style.background = 'var(&#45;&#45;primary-60)';
                btn.parentElement.style.color = 'var(&#45;&#45;accent-pink)';
                btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;
            btn.textContent = translations[currentLanguage].copied;
            setTimeout(() => {
                btn.textContent = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button span');
        const submitButton = document.querySelector('.submit-button');
        btn.textContent = translations[currentLanguage].creating;
        submitButton.disabled = true;
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadLanguage();
        loadTheme();
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->

<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;
            &#45;&#45;secondary-30: #ffffff;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #2d3748;
            &#45;&#45;text-muted: #4a5568;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;
            &#45;&#45;accent-turquoise: #319795;
            &#45;&#45;accent-yellow: #d69e2e;
            &#45;&#45;accent-pink: #d53f8c;
            &#45;&#45;accent-blue: #3182ce;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;
            &#45;&#45;secondary-30: #1e293b;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
        }

        .controls-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .theme-toggle, .language-selector {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
        }

        .language-selector {
            border-color: var(&#45;&#45;accent-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            position: relative;
        }

        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(49, 130, 206, 0.4);
            background: var(&#45;&#45;accent-blue);
            color: white;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-blue);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .language-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .language-option:hover {
            background: var(&#45;&#45;accent-blue);
            color: white !important;
        }

        .language-option:first-child {
            border-radius: 10px 10px 0 0;
        }

        .language-option:last-child {
            border-radius: 0 0 10px 10px;
        }

        .language-option.active {
            background: rgba(49, 130, 206, 0.1);
            color: var(&#45;&#45;accent-blue);
            font-weight: 600;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 32px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1.2;
            transition: all 0.4s ease;
            max-width: none;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 180px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            overflow-y: auto;
            padding-right: 8px;
        }

        .warning-text::-webkit-scrollbar {
            width: 6px;
        }

        .warning-text::-webkit-scrollbar-track {
            background: rgba(254, 202, 87, 0.1);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb {
            background: var(&#45;&#45;accent-yellow);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb:hover {
            background: #c69500;
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .warning-text li {
            margin-bottom: 8px;
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .controls-container {
                top: 15px;
                right: 15px;
                flex-direction: row;
                gap: 6px;
            }

            .theme-toggle, .language-selector {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .theme-toggle span, .language-selector span {
                display: none;
            }

            .theme-toggle i, .language-selector i {
                margin: 0;
            }
        }

        @media (max-width: 480px) {
            .controls-container {
                top: 10px;
                right: 10px;
                gap: 4px;
            }

            .theme-toggle, .language-selector {
                padding: 6px 10px;
                font-size: 0.75rem;
                min-width: auto;
            }
        }
    </style>
</head>
<body>
<div class="controls-container">
    <div class="language-selector" onclick="toggleLanguageDropdown()">
        <i class="fas fa-globe"></i>
        <span id="current-language">EN</span>
        <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" onclick="changeLanguage('en')">
                <span>🇺🇸</span>
                <span>English</span>
            </div>
            <div class="language-option" onclick="changeLanguage('uz')">
                <span>🇺🇿</span>
                <span>O'zbek</span>
            </div>
            <div class="language-option" onclick="changeLanguage('ru')">
                <span>🇷🇺</span>
                <span>Русский</span>
            </div>
        </div>
    </div>
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text" data-key="darkMode">Dark Mode</span>
    </div>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle" data-key="subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span data-key="warningTitle">Important Notice</span>
                </div>
                <div class="warning-text" data-key="warningText">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided "as is" with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           data-key="placeholder"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> <span data-key="createButton">Create Short URL</span>
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span data-key="successTitle">Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> <span data-key="copyButton">Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Language translations
    const translations = {
        en: {
            darkMode: "Dark Mode",
            lightMode: "Light Mode",
            subtitle: "Premium URL Shortener now Free",
            warningTitle: "Important Notice",
            warningText: `Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                Once created, shortened URLs are permanent and cannot be modified.

                We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                activities. Any user found abusing this service for such purposes will have their information
                reported to the relevant authorities.

                By using this service, you agree that:

                <ul>
                    <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                    <li>Our service is provided "as is" with no guarantees or warranties.</li>
                    <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                        platform.
                    </li>
                </ul>
                <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>`,
            placeholder: "🌐 Enter your long URL here...",
            createButton: "Create Short URL",
            successTitle: "Your short URL is ready!",
            copyButton: "Copy Link",
            copied: "Copied!",
            creating: "Creating..."
        },
        uz: {
            darkMode: "Qorong'u rejim",
            lightMode: "Yorug' rejim",
            subtitle: "Premium URL qisqartiruvchi endi bepul",
            warningTitle: "Muhim xabar",
            warningText: `Iltimos, xizmatimiz orqali qisqartirilgan barcha URL manzillar xavfsiz, qonuniy va mas'uliyat bilan ishlatilishini ta'minlang.
                Yaratilgandan so'ng, qisqartirilgan URL manzillar doimiy bo'lib, o'zgartirib bo'lmaydi.

                Biz hech qanday xakerlik, fishing, firibgarlik yoki boshqa zararli yoki noqonuniy
                faoliyatni qo'llab-quvvatlamaymiz va ma'qullamaymiz. Bunday maqsadlarda xizmatni suiiste'mol qilgan har qanday foydalanuvchi haqidagi ma'lumotlar
                tegishli organlarga xabar qilinadi.

                Ushbu xizmatdan foydalanish orqali siz quyidagilarni tan olasiz:

                <ul>
                    <li>Siz qisqartirgan URL manzillarning mazmuni va manzili uchun to'liq javobgarsiz.</li>
                    <li>Bizning xizmatimiz hech qanday kafolat va kafolatlarsiz "bor holatida" taqdim etiladi.</li>
                    <li>Ushbu platforma orqali yaratilgan URL manzillarning noto'g'ri ishlatilishi yoki zarar yetkazishi uchun biz javobgar bo'lmaymiz.
                    </li>
                </ul>
                <b>O'z xavf-xataringiz ostida foydalaning. Qonunlar va jamiyat me'yorlariga ehtiyotkor va hurmatli bo'ling.</b>`,
            placeholder: "🌐 Uzun URL manzilingizni kiriting...",
            createButton: "Qisqa URL yaratish",
            successTitle: "Sizning qisqa URL manzilingiz tayyor!",
            copyButton: "Havolani nusxalash",
            copied: "Nusxalandi!",
            creating: "Yaratilmoqda..."
        },
        ru: {
            darkMode: "Тёмный режим",
            lightMode: "Светлый режим",
            subtitle: "Премиум сокращатель URL теперь бесплатно",
            warningTitle: "Важное уведомление",
            warningText: `Пожалуйста, убедитесь, что все URL-адреса, сокращённые через наш сервис, безопасны, законны и используются ответственно.
                После создания сокращённые URL-адреса являются постоянными и не могут быть изменены.

                Мы не поддерживаем и не одобряем любые формы взлома, фишинга, мошенничества или других вредоносных или незаконных
                действий. Любой пользователь, злоупотребляющий этим сервисом для таких целей, будет иметь свою информацию
                переданную соответствующим органам.

                Используя этот сервис, вы соглашаетесь с тем, что:

                <ul>
                    <li>Вы несёте полную ответственность за содержание и назначение сокращаемых URL-адресов.</li>
                    <li>Наш сервис предоставляется "как есть" без каких-либо гарантий или поручительств.</li>
                    <li>Мы не несём ответственности за любое неправильное использование или ущерб, причинённый URL-адресами, созданными через эту
                        платформу.
                    </li>
                </ul>
                <b>Используйте на свой страх и риск. Будьте осторожны и уважительны к законам и общественным стандартам.</b>`,
            placeholder: "🌐 Введите ваш длинный URL здесь...",
            createButton: "Создать короткий URL",
            successTitle: "Ваш короткий URL готов!",
            copyButton: "Копировать ссылку",
            copied: "Скопировано!",
            creating: "Создание..."
        }
    };

    let currentLanguage = 'uz';

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[lang];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        // Find the correct option to mark as active
        const clickedOption = document.querySelector(`[onclick="changeLanguage('${lang}')"]`);
        if (clickedOption) {
            clickedOption.classList.add('active');
        }

        // Update all translatable elements
        updateTranslations();

        // Close dropdown
        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateTranslations() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[currentLanguage][key]) {
                if (element.tagName === 'INPUT') {
                    element.placeholder = translations[currentLanguage][key];
                } else {
                    element.innerHTML = translations[currentLanguage][key];
                }
            }
        });
    }

    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function loadLanguage() {
        const savedLanguage = localStorage.getItem('language') || 'en';
        currentLanguage = savedLanguage;

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[savedLanguage];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        const activeOption = document.querySelector(`[onclick="changeLanguage('${savedLanguage}')"]`);
        if (activeOption) {
            activeOption.classList.add('active');
        }

        // Update translations
        updateTranslations();
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const dropdown = document.getElementById('languageDropdown');

        if (!languageSelector.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });

    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;

            btn.textContent = translations[currentLanguage].copied;
            btn.parentElement.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.parentElement.style.color = 'white';
            btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.textContent = originalContent;
                btn.parentElement.style.background = 'var(&#45;&#45;primary-60)';
                btn.parentElement.style.color = 'var(&#45;&#45;accent-pink)';
                btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;
            btn.textContent = translations[currentLanguage].copied;
            setTimeout(() => {
                btn.textContent = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button span');
        const submitButton = document.querySelector('.submit-button');
        btn.textContent = translations[currentLanguage].creating;
        submitButton.disabled = true;

        // Don't prevent default form submission, just update UI
        // The theme will be preserved since we're not reloading the page
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadLanguage();  // Load language first
        loadTheme();     // Then load theme with correct language
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });

        // Auto-close warning card when user starts typing
        input.addEventListener('input', function() {
            const warningCard = document.getElementById('warningCard');
            if (!warningCard.classList.contains('collapsed')) {
                warningCard.classList.add('collapsed');
                localStorage.setItem('warningState', 'collapsed');
            }
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->

<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;
            &#45;&#45;secondary-30: #ffffff;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #2d3748;
            &#45;&#45;text-muted: #4a5568;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;
            &#45;&#45;accent-turquoise: #319795;
            &#45;&#45;accent-yellow: #d69e2e;
            &#45;&#45;accent-pink: #d53f8c;
            &#45;&#45;accent-blue: #3182ce;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;
            &#45;&#45;secondary-30: #1e293b;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
            position: relative;
        }

        .controls-container {
            position: absolute;
            top: 60px;
            right: 60px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .theme-toggle, .language-selector {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
        }

        .language-selector {
            border-color: var(&#45;&#45;accent-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            position: relative;
        }

        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(49, 130, 206, 0.4);
            background: var(&#45;&#45;accent-blue);
            color: white;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-blue);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 140px;
            z-index: 1001;
        }

        .language-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(&#45;&#45;text-primary);
        }

        .language-option:hover {
            background: var(&#45;&#45;accent-blue);
            color: white !important;
        }

        .language-option:first-child {
            border-radius: 10px 10px 0 0;
        }

        .language-option:last-child {
            border-radius: 0 0 10px 10px;
        }

        .language-option.active {
            background: rgba(49, 130, 206, 0.1);
            color: var(&#45;&#45;accent-blue);
            font-weight: 600;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 32px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1.2;
            transition: all 0.4s ease;
            max-width: none;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 180px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            overflow-y: auto;
            padding-right: 8px;
        }

        .warning-text::-webkit-scrollbar {
            width: 6px;
        }

        .warning-text::-webkit-scrollbar-track {
            background: rgba(254, 202, 87, 0.1);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb {
            background: var(&#45;&#45;accent-yellow);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb:hover {
            background: #c69500;
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .warning-text li {
            margin-bottom: 8px;
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .controls-container {
                top: 30px;
                right: 30px;
                flex-direction: row;
                gap: 6px;
            }

            .theme-toggle, .language-selector {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .theme-toggle span, .language-selector span {
                display: none;
            }

            .theme-toggle i, .language-selector i {
                margin: 0;
            }

            .language-dropdown {
                min-width: 160px;
                right: -20px;
                font-size: 0.9rem;
            }

            .language-option {
                padding: 14px 18px;
                font-size: 0.9rem;
            }

            .main-card {
                padding: 28px 20px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .controls-container {
                top: 20px;
                right: 20px;
                gap: 4px;
            }

            .theme-toggle, .language-selector {
                padding: 6px 10px;
                font-size: 0.75rem;
                min-width: auto;
            }

            .language-dropdown {
                min-width: 150px;
                right: -30px;
                font-size: 0.85rem;
            }

            .language-option {
                padding: 12px 16px;
                font-size: 0.85rem;
            }

            .main-card {
                padding: 20px 16px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="controls-container">
    <div class="language-selector" onclick="toggleLanguageDropdown()">
        <i class="fas fa-globe"></i>
        <span id="current-language">EN</span>
        <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" onclick="changeLanguage('en')">
                <span>🇺🇸</span>
                <span>English</span>
            </div>
            <div class="language-option" onclick="changeLanguage('uz')">
                <span>🇺🇿</span>
                <span>O'zbek</span>
            </div>
            <div class="language-option" onclick="changeLanguage('ru')">
                <span>🇷🇺</span>
                <span>Русский</span>
            </div>
        </div>
    </div>
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text" data-key="darkMode">Dark Mode</span>
    </div>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle" data-key="subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span data-key="warningTitle">Important Notice</span>
                </div>
                <div class="warning-text" data-key="warningText">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided "as is" with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           data-key="placeholder"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> <span data-key="createButton">Create Short URL</span>
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span data-key="successTitle">Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> <span data-key="copyButton">Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Language translations
    const translations = {
        en: {
            darkMode: "Dark Mode",
            lightMode: "Light Mode",
            subtitle: "Premium URL Shortener now Free",
            warningTitle: "Important Notice",
            warningText: `Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                Once created, shortened URLs are permanent and cannot be modified.

                We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                activities. Any user found abusing this service for such purposes will have their information
                reported to the relevant authorities.

                By using this service, you agree that:

                <ul>
                    <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                    <li>Our service is provided "as is" with no guarantees or warranties.</li>
                    <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                        platform.
                    </li>
                </ul>
                <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>`,
            placeholder: "🌐 Enter your long URL here...",
            createButton: "Create Short URL",
            successTitle: "Your short URL is ready!",
            copyButton: "Copy Link",
            copied: "Copied!",
            creating: "Creating..."
        },
        uz: {
            darkMode: "Qorong'u rejim",
            lightMode: "Yorug' rejim",
            subtitle: "Premium URL qisqartiruvchi endi bepul",
            warningTitle: "Muhim xabar",
            warningText: `Iltimos, xizmatimiz orqali qisqartirilgan barcha URL manzillar xavfsiz, qonuniy va mas'uliyat bilan ishlatilishini ta'minlang.
                Yaratilgandan so'ng, qisqartirilgan URL manzillar doimiy bo'lib, o'zgartirib bo'lmaydi.

                Biz hech qanday xakerlik, fishing, firibgarlik yoki boshqa zararli yoki noqonuniy
                faoliyatni qo'llab-quvvatlamaymiz va ma'qullamaymiz. Bunday maqsadlarda xizmatni suiiste'mol qilgan har qanday foydalanuvchi haqidagi ma'lumotlar
                tegishli organlarga xabar qilinadi.

                Ushbu xizmatdan foydalanish orqali siz quyidagilarni tan olasiz:

                <ul>
                    <li>Siz qisqartirgan URL manzillarning mazmuni va manzili uchun to'liq javobgarsiz.</li>
                    <li>Bizning xizmatimiz hech qanday kafolat va kafolatlarsiz "bor holatida" taqdim etiladi.</li>
                    <li>Ushbu platforma orqali yaratilgan URL manzillarning noto'g'ri ishlatilishi yoki zarar yetkazishi uchun biz javobgar bo'lmaymiz.
                    </li>
                </ul>
                <b>O'z xavf-xataringiz ostida foydalaning. Qonunlar va jamiyat me'yorlariga ehtiyotkor va hurmatli bo'ling.</b>`,
            placeholder: "🌐 Uzun URL manzilingizni kiriting...",
            createButton: "Qisqa URL yaratish",
            successTitle: "Sizning qisqa URL manzilingiz tayyor!",
            copyButton: "Havolani nusxalash",
            copied: "Nusxalandi!",
            creating: "Yaratilmoqda..."
        },
        ru: {
            darkMode: "Тёмный режим",
            lightMode: "Светлый режим",
            subtitle: "Премиум сокращатель URL теперь бесплатно",
            warningTitle: "Важное уведомление",
            warningText: `Пожалуйста, убедитесь, что все URL-адреса, сокращённые через наш сервис, безопасны, законны и используются ответственно.
                После создания сокращённые URL-адреса являются постоянными и не могут быть изменены.

                Мы не поддерживаем и не одобряем любые формы взлома, фишинга, мошенничества или других вредоносных или незаконных
                действий. Любой пользователь, злоупотребляющий этим сервисом для таких целей, будет иметь свою информацию
                переданную соответствующим органам.

                Используя этот сервис, вы соглашаетесь с тем, что:

                <ul>
                    <li>Вы несёте полную ответственность за содержание и назначение сокращаемых URL-адресов.</li>
                    <li>Наш сервис предоставляется "как есть" без каких-либо гарантий или поручительств.</li>
                    <li>Мы не несём ответственности за любое неправильное использование или ущерб, причинённый URL-адресами, созданными через эту
                        платформу.
                    </li>
                </ul>
                <b>Используйте на свой страх и риск. Будьте осторожны и уважительны к законам и общественным стандартам.</b>`,
            placeholder: "🌐 Введите ваш длинный URL здесь...",
            createButton: "Создать короткий URL",
            successTitle: "Ваш короткий URL готов!",
            copyButton: "Копировать ссылку",
            copied: "Скопировано!",
            creating: "Создание..."
        }
    };

    let currentLanguage = 'en';

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[lang];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        // Find the correct option to mark as active
        const clickedOption = document.querySelector(`[onclick="changeLanguage('${lang}')"]`);
        if (clickedOption) {
            clickedOption.classList.add('active');
        }

        // Update all translatable elements
        updateTranslations();

        // Close dropdown
        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateTranslations() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[currentLanguage][key]) {
                if (element.tagName === 'INPUT') {
                    element.placeholder = translations[currentLanguage][key];
                } else {
                    element.innerHTML = translations[currentLanguage][key];
                }
            }
        });
    }

    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function loadLanguage() {
        const savedLanguage = localStorage.getItem('language') || 'en';
        currentLanguage = savedLanguage;

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[savedLanguage];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        const activeOption = document.querySelector(`[onclick="changeLanguage('${savedLanguage}')"]`);
        if (activeOption) {
            activeOption.classList.add('active');
        }

        // Update translations
        updateTranslations();
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const dropdown = document.getElementById('languageDropdown');

        if (!languageSelector.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });

    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 100;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;

            btn.textContent = translations[currentLanguage].copied;
            btn.parentElement.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.parentElement.style.color = 'white';
            btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.textContent = originalContent;
                btn.parentElement.style.background = 'var(&#45;&#45;primary-60)';
                btn.parentElement.style.color = 'var(&#45;&#45;accent-pink)';
                btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;
            btn.textContent = translations[currentLanguage].copied;
            setTimeout(() => {
                btn.textContent = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button span');
        const submitButton = document.querySelector('.submit-button');
        btn.textContent = translations[currentLanguage].creating;
        submitButton.disabled = true;

        // Don't prevent default form submission, just update UI
        // The theme will be preserved since we're not reloading the page
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadLanguage();  // Load language first
        loadTheme();     // Then load theme with correct language
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });

        // Auto-close warning card when user starts typing
        input.addEventListener('input', function() {
            const warningCard = document.getElementById('warningCard');
            if (!warningCard.classList.contains('collapsed')) {
                warningCard.classList.add('collapsed');
                localStorage.setItem('warningState', 'collapsed');
            }
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>-->

<!--

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manabu URL Shortener</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            /* 60-30-10 Color Principle - Light Mode */
            &#45;&#45;primary-60: #f8fafc;
            &#45;&#45;secondary-30: #ffffff;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors with better contrast */
            &#45;&#45;text-primary: #1a202c;
            &#45;&#45;text-secondary: #2d3748;
            &#45;&#45;text-muted: #4a5568;

            /* Happy accent colors */
            &#45;&#45;accent-coral: #e53e3e;
            &#45;&#45;accent-turquoise: #319795;
            &#45;&#45;accent-yellow: #d69e2e;
            &#45;&#45;accent-pink: #d53f8c;
            &#45;&#45;accent-blue: #3182ce;

            /* Glow effects */
            &#45;&#45;coral-glow: rgba(229, 62, 62, 0.3);
            &#45;&#45;turquoise-glow: rgba(49, 151, 149, 0.3);
            &#45;&#45;yellow-glow: rgba(214, 158, 46, 0.3);
            &#45;&#45;pink-glow: rgba(213, 63, 140, 0.3);
        }

        [data-theme="dark"] {
            /* 60-30-10 Color Principle - Dark Mode */
            &#45;&#45;primary-60: #0f172a;
            &#45;&#45;secondary-30: #1e293b;
            &#45;&#45;accent-10: #ff6b6b;

            /* Supporting colors */
            &#45;&#45;text-primary: #f1f5f9;
            &#45;&#45;text-secondary: #cbd5e1;
            &#45;&#45;text-muted: #94a3b8;

            /* Brighter accent colors for dark mode */
            &#45;&#45;accent-coral: #ff6b6b;
            &#45;&#45;accent-turquoise: #4ecdc4;
            &#45;&#45;accent-yellow: #feca57;
            &#45;&#45;accent-pink: #ff9ff3;
            &#45;&#45;accent-blue: #45b7d1;

            /* Enhanced glow effects for dark mode */
            &#45;&#45;coral-glow: rgba(255, 107, 107, 0.4);
            &#45;&#45;turquoise-glow: rgba(78, 205, 196, 0.4);
            &#45;&#45;yellow-glow: rgba(254, 202, 87, 0.4);
            &#45;&#45;pink-glow: rgba(255, 159, 243, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(&#45;&#45;primary-60);
            background-image:
                    radial-gradient(circle at 20% 30%, var(&#45;&#45;coral-glow) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, var(&#45;&#45;turquoise-glow) 0%, transparent 50%),
                    radial-gradient(circle at 40% 80%, var(&#45;&#45;yellow-glow) 0%, transparent 50%),
                    radial-gradient(circle at 90% 90%, var(&#45;&#45;pink-glow) 0%, transparent 50%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: var(&#45;&#45;text-primary);
            transition: all 0.3s ease;
            position: relative;
        }

        .controls-container {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 12px;
            z-index: 1000;
        }

        .theme-toggle, .language-selector {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 50px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            box-shadow: 0 4px 12px var(&#45;&#45;coral-glow);
        }

        .language-selector {
            border-color: var(&#45;&#45;accent-blue);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            position: relative;
        }

        .language-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(49, 130, 206, 0.4);
            background: var(&#45;&#45;accent-blue);
            color: white;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-blue);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 160px;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }

        .language-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            color: black !important;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            /*color: var(&#45;&#45;text-primary) !important;*/
            background: var(&#45;&#45;secondary-30);
            font-weight: 500;
        }

        .language-option:hover {
            background: var(&#45;&#45;accent-blue) !important;
            color: white !important;
        }

        .language-option:first-child {
            border-radius: 10px 10px 0 0;
        }

        .language-option:last-child {
            border-radius: 0 0 10px 10px;
        }

        .language-option.active {
            background: rgba(49, 130, 206, 0.15) !important;
            color: var(&#45;&#45;accent-blue) !important;
            font-weight: 600;
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;coral-glow);
            background: var(&#45;&#45;accent-coral);
            color: white;
        }

        .theme-toggle i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .theme-toggle:hover i {
            transform: rotate(180deg);
        }

        .container {
            max-width: 640px;
            width: 100%;
            margin: 0 auto;
        }

        .main-card {
            backdrop-filter: blur(20px);
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-coral);
            border-radius: 24px;
            padding: 32px;
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: cardFloat 8s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .main-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg,
            var(&#45;&#45;accent-coral),
            var(&#45;&#45;accent-turquoise),
            var(&#45;&#45;accent-yellow),
            var(&#45;&#45;accent-pink),
            var(&#45;&#45;accent-blue));
            border-radius: 27px;
            z-index: -1;
            opacity: 0.6;
            animation: borderGlow 3s ease-in-out infinite;
        }

        [data-theme="dark"] .main-card {
            border: 2px solid rgba(255, 107, 107, 0.2);
            box-shadow:
                    0 24px 48px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-icon {
            font-size: 3.5rem;
            color: var(&#45;&#45;accent-coral);
            margin-bottom: 16px;
            display: block;
            animation: pulse 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-icon {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px var(&#45;&#45;coral-glow));
        }

        .logo-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(&#45;&#45;text-primary);
            letter-spacing: -0.02em;
            margin-bottom: 8px;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] .logo-title {
            background: linear-gradient(45deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-turquoise));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-subtitle {
            font-size: 1rem;
            color: var(&#45;&#45;text-secondary);
            font-weight: 500;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .form-section {
            margin-bottom: 32px;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .form-input {
            width: 100%;
            padding: 20px 24px;
            font-size: 1rem;
            font-weight: 400;
            border: 2px solid rgba(78, 205, 196, 0.3);
            border-radius: 16px;
            background: var(&#45;&#45;primary-60);
            color: var(&#45;&#45;text-primary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
        }

        .form-input::placeholder {
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
        }

        .form-input:focus {
            outline: none;
            border-color: var(&#45;&#45;accent-turquoise);
            background: var(&#45;&#45;primary-60);
            box-shadow:
                    0 0 0 4px var(&#45;&#45;turquoise-glow),
                    0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .submit-button {
            width: 100%;
            padding: 20px 24px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-coral), var(&#45;&#45;accent-yellow));
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: none;
            letter-spacing: 0.02em;
            line-height: 1.5;
            box-shadow: 0 8px 24px var(&#45;&#45;coral-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .submit-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 32px var(&#45;&#45;coral-glow), 0 4px 12px var(&#45;&#45;yellow-glow);
            background: linear-gradient(135deg, #ff5252, #ffc107);
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:active {
            transform: translateY(-1px);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .alert-section {
            margin-top: 32px;
        }

        .alert-box {
            border: none;
            border-radius: 16px;
            padding: 24px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            line-height: 1.6;
            background: var(&#45;&#45;primary-60);
            transition: all 0.3s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            border: 2px solid var(&#45;&#45;accent-turquoise);
            color: var(&#45;&#45;text-primary);
        }

        .alert-danger {
            border: 2px solid var(&#45;&#45;accent-coral);
            color: var(&#45;&#45;text-primary);
        }

        .success-content {
            text-align: center;
        }

        .success-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(&#45;&#45;accent-turquoise);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .url-result {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .short-url {
            display: inline-block;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(&#45;&#45;accent-turquoise), var(&#45;&#45;accent-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-all;
            max-width: 100%;
            text-align: center;
            box-shadow: 0 6px 20px var(&#45;&#45;turquoise-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .short-url:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 28px var(&#45;&#45;turquoise-glow), 0 4px 12px var(&#45;&#45;pink-glow);
            color: white;
            text-decoration: none;
            background: linear-gradient(135deg, #3dd5c7, #2fa8d1);
        }

        .copy-button {
            padding: 12px 20px;
            background: var(&#45;&#45;primary-60);
            border: 2px solid var(&#45;&#45;accent-pink);
            color: var(&#45;&#45;accent-pink);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .copy-button:hover {
            background: var(&#45;&#45;accent-pink);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(&#45;&#45;pink-glow);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .error-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .error-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            line-height: 1.5;
        }

        .error-icon {
            font-size: 1.1rem;
            margin-top: 2px;
            flex-shrink: 0;
            color: var(&#45;&#45;accent-coral);
        }

        .error-content {
            flex: 1;
            color: var(&#45;&#45;text-primary);
        }

        .error-field {
            font-weight: 600;
            margin-right: 4px;
            color: var(&#45;&#45;text-primary);
        }

        /* Floating particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: float linear infinite;
        }

        .particle:nth-child(1) { background: var(&#45;&#45;accent-coral); }
        .particle:nth-child(2) { background: var(&#45;&#45;accent-turquoise); }
        .particle:nth-child(3) { background: var(&#45;&#45;accent-yellow); }
        .particle:nth-child(4) { background: var(&#45;&#45;accent-pink); }
        .particle:nth-child(5) { background: var(&#45;&#45;accent-blue); }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .warning-card {
            background: var(&#45;&#45;secondary-30);
            border: 2px solid var(&#45;&#45;accent-yellow);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
            box-shadow: 0 4px 12px var(&#45;&#45;yellow-glow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .warning-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(&#45;&#45;yellow-glow);
        }

        .warning-card.collapsed {
            padding: 16px 24px;
            cursor: pointer;
        }

        .warning-card.collapsed:hover {
            background: rgba(254, 202, 87, 0.05);
        }

        .warning-icon {
            font-size: 1.5rem;
            color: var(&#45;&#45;accent-yellow);
            margin-top: 2px;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-icon {
            transform: scale(0.9);
        }

        .warning-content {
            flex: 1.2;
            transition: all 0.4s ease;
            max-width: none;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(&#45;&#45;text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: margin-bottom 0.4s ease;
        }

        .warning-card.collapsed .warning-title {
            margin-bottom: 0;
        }

        .warning-text {
            color: var(&#45;&#45;text-secondary);
            line-height: 1.6;
            font-size: 0.95rem;
            max-height: 180px;
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            overflow-y: auto;
            padding-right: 8px;
        }

        .warning-text::-webkit-scrollbar {
            width: 6px;
        }

        .warning-text::-webkit-scrollbar-track {
            background: rgba(254, 202, 87, 0.1);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb {
            background: var(&#45;&#45;accent-yellow);
            border-radius: 3px;
        }

        .warning-text::-webkit-scrollbar-thumb:hover {
            background: #c69500;
        }

        .warning-card.collapsed .warning-text {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
            transform: translateY(-10px);
        }

        .warning-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .warning-text li {
            margin-bottom: 8px;
        }

        .warning-toggle {
            background: none;
            border: none;
            color: var(&#45;&#45;text-muted);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .warning-toggle:hover {
            color: var(&#45;&#45;accent-yellow);
            background: rgba(254, 202, 87, 0.1);
            transform: scale(1.1);
        }

        .warning-toggle i {
            transition: transform 0.3s ease;
        }

        .warning-card.collapsed .warning-toggle i {
            transform: rotate(180deg);
        }

        .warning-card.collapsed .warning-title::after {
            content: " (click to expand)";
            font-size: 0.8rem;
            color: var(&#45;&#45;text-muted);
            font-weight: 400;
            opacity: 0.7;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .controls-container {
                top: 15px;
                right: 15px;
                flex-direction: row;
                gap: 6px;
            }

            .theme-toggle, .language-selector {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .theme-toggle span, .language-selector span {
                display: none;
            }

            .theme-toggle i, .language-selector i {
                margin: 0;
            }

            .language-dropdown {
                min-width: 140px;
                right: -10px;
                font-size: 0.9rem;
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            }

            .language-option {
                padding: 14px 16px;
                font-size: 0.85rem;
                color: var(&#45;&#45;text-primary) !important;
                background: var(&#45;&#45;secondary-30) !important;
            }

            .main-card {
                padding: 28px 20px;
                border-radius: 20px;
            }

            .logo-title {
                font-size: 1.875rem;
            }

            .logo-icon {
                font-size: 3rem;
            }

            .form-input {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .submit-button {
                padding: 18px 20px;
                font-size: 1rem;
            }

            .logo-section {
                margin-bottom: 40px;
            }

            .form-section {
                margin-bottom: 28px;
            }

            .alert-section {
                margin-top: 28px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 16px;
            }

            .controls-container {
                top: 10px;
                right: 10px;
                gap: 4px;
            }

            .theme-toggle, .language-selector {
                padding: 6px 10px;
                font-size: 0.75rem;
                min-width: auto;
            }

            .language-dropdown {
                min-width: 130px;
                right: -5px;
                font-size: 0.85rem;
            }

            .language-option {
                padding: 12px 14px;
                font-size: 0.8rem;
            }

            .main-card {
                padding: 20px 16px;
                border-radius: 16px;
            }

            .logo-title {
                font-size: 1.75rem;
            }

            .logo-icon {
                font-size: 2.5rem;
            }

            .form-input {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .submit-button {
                padding: 16px 18px;
                font-size: 0.95rem;
            }

            .url-result {
                flex-direction: column;
                gap: 12px;
            }

            .copy-button {
                width: 100%;
            }

            .short-url {
                font-size: 0.9rem;
                padding: 14px 20px;
            }

            .success-title {
                font-size: 1.1rem;
            }

            .logo-section {
                margin-bottom: 32px;
            }

            .input-wrapper {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<div class="controls-container">
    <div class="language-selector" onclick="toggleLanguageDropdown()">
        <i class="fas fa-globe"></i>
        <span id="current-language">EN</span>
        <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
        <div class="language-dropdown" id="languageDropdown">
            <div class="language-option active" onclick="changeLanguage('en')">
                <span>🇺🇸</span>
                <span>English</span>
            </div>
            <div class="language-option" onclick="changeLanguage('uz')">
                <span>🇺🇿</span>
                <span>O'zbek</span>
            </div>
            <div class="language-option" onclick="changeLanguage('ru')">
                <span>🇷🇺</span>
                <span>Русский</span>
            </div>
        </div>
    </div>
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i>
        <span id="theme-text" data-key="darkMode">Dark Mode</span>
    </div>
</div>

<div class="floating-particles"></div>

<div class="container">
    <div class="main-card">
        <header class="logo-section">
            <i class="fas fa-link logo-icon"></i>
            <h1 class="logo-title">U-SHORT</h1>
            <p class="logo-subtitle" data-key="subtitle">Premium URL Shortener now Free</p>
        </header>

        <div class="warning-card" id="warningCard" onclick="handleWarningClick(event)">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <div class="warning-content">
                <div class="warning-title">
                    <span data-key="warningTitle">Important Notice</span>
                </div>
                <div class="warning-text" data-key="warningText">
                    Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                    Once created, shortened URLs are permanent and cannot be modified.

                    We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                    activities. Any user found abusing this service for such purposes will have their information
                    reported to the relevant authorities.

                    By using this service, you agree that:

                    <ul>
                        <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                        <li>Our service is provided "as is" with no guarantees or warranties.</li>
                        <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                            platform.
                        </li>
                    </ul>
                    <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>
                </div>
            </div>
            <button class="warning-toggle" onclick="toggleWarning(event)" title="Collapse/Expand">
                <i class="fas fa-chevron-up"></i>
            </button>
        </div>

        <main class="form-section">
            <form th:action="@{/shorten}" th:object="${urlRequest}" method="post">
                <div class="input-wrapper">
                    <input type="url"
                           class="form-input"
                           th:field="*{originalUrl}"
                           data-key="placeholder"
                           placeholder="🌐 Enter your long URL here..."
                           required
                           autocomplete="url"
                           spellcheck="false"/>
                </div>
                <button type="submit" class="submit-button">
                    <i class="fas fa-magic"></i> <span data-key="createButton">Create Short URL</span>
                </button>
            </form>
        </main>

        <div class="alert-section">
            <div th:if="${errors != null}" class="error-list">
                <div th:each="error : ${errors}" class="alert-box alert-danger">
                    <div class="error-item">
                        <i class="fas fa-exclamation-triangle error-icon"></i>
                        <div class="error-content">
                            <span class="error-field" th:text="${error.field}"></span>
                            <span th:text="${error.message}"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div th:if="${errors == null and shortUrl != null}" class="alert-box alert-success">
                <div class="success-content">
                    <div class="success-title">
                        <i class="fas fa-check-circle"></i>
                        <span data-key="successTitle">Your short URL is ready!</span>
                    </div>
                    <div class="url-result">
                        <a th:href="${shortUrl}"
                           th:text="${shortUrl}"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="short-url"></a>
                        <button type="button" class="copy-button" onclick="copyToClipboard()">
                            <i class="fas fa-copy"></i> <span data-key="copyButton">Copy Link</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Language translations
    const translations = {
        en: {
            darkMode: "Dark Mode",
            lightMode: "Light Mode",
            subtitle: "Premium URL Shortener now Free",
            warningTitle: "Important Notice",
            warningText: `Please ensure that any URLs shortened through our service are safe, lawful, and used responsibly.
                Once created, shortened URLs are permanent and cannot be modified.

                We do not support or condone any form of hacking, phishing, fraud, or other malicious or illegal
                activities. Any user found abusing this service for such purposes will have their information
                reported to the relevant authorities.

                By using this service, you agree that:

                <ul>
                    <li>You are solely responsible for the content and destination of the URLs you shorten.</li>
                    <li>Our service is provided "as is" with no guarantees or warranties.</li>
                    <li>We shall not be held liable for any misuse or damage caused by URLs created through this
                        platform.
                    </li>
                </ul>
                <b>Use at your own risk. Be cautious and respectful of laws and community standards.</b>`,
            placeholder: "🌐 Enter your long URL here...",
            createButton: "Create Short URL",
            successTitle: "Your short URL is ready!",
            copyButton: "Copy Link",
            copied: "Copied!",
            creating: "Creating..."
        },
        uz: {
            darkMode: "Qorong'u rejim",
            lightMode: "Yorug' rejim",
            subtitle: "Premium URL qisqartiruvchi endi bepul",
            warningTitle: "Muhim xabar",
            warningText: `Iltimos, xizmatimiz orqali qisqartirilgan barcha URL manzillar xavfsiz, qonuniy va mas'uliyat bilan ishlatilishini ta'minlang.
                Yaratilgandan so'ng, qisqartirilgan URL manzillar doimiy bo'lib, o'zgartirib bo'lmaydi.

                Biz hech qanday xakerlik, fishing, firibgarlik yoki boshqa zararli yoki noqonuniy
                faoliyatni qo'llab-quvvatlamaymiz va ma'qullamaymiz. Bunday maqsadlarda xizmatni suiiste'mol qilgan har qanday foydalanuvchi haqidagi ma'lumotlar
                tegishli organlarga xabar qilinadi.

                Ushbu xizmatdan foydalanish orqali siz quyidagilarni tan olasiz:

                <ul>
                    <li>Siz qisqartirgan URL manzillarning mazmuni va manzili uchun to'liq javobgarsiz.</li>
                    <li>Bizning xizmatimiz hech qanday kafolat va kafolatlarsiz "bor holatida" taqdim etiladi.</li>
                    <li>Ushbu platforma orqali yaratilgan URL manzillarning noto'g'ri ishlatilishi yoki zarar yetkazishi uchun biz javobgar bo'lmaymiz.
                    </li>
                </ul>
                <b>O'z xavf-xataringiz ostida foydalaning. Qonunlar va jamiyat me'yorlariga ehtiyotkor va hurmatli bo'ling.</b>`,
            placeholder: "🌐 Uzun URL manzilingizni kiriting...",
            createButton: "Qisqa URL yaratish",
            successTitle: "Sizning qisqa URL manzilingiz tayyor!",
            copyButton: "Havolani nusxalash",
            copied: "Nusxalandi!",
            creating: "Yaratilmoqda..."
        },
        ru: {
            darkMode: "Тёмный режим",
            lightMode: "Светлый режим",
            subtitle: "Премиум сокращатель URL теперь бесплатно",
            warningTitle: "Важное уведомление",
            warningText: `Пожалуйста, убедитесь, что все URL-адреса, сокращённые через наш сервис, безопасны, законны и используются ответственно.
                После создания сокращённые URL-адреса являются постоянными и не могут быть изменены.

                Мы не поддерживаем и не одобряем любые формы взлома, фишинга, мошенничества или других вредоносных или незаконных
                действий. Любой пользователь, злоупотребляющий этим сервисом для таких целей, будет иметь свою информацию
                переданную соответствующим органам.

                Используя этот сервис, вы соглашаетесь с тем, что:

                <ul>
                    <li>Вы несёте полную ответственность за содержание и назначение сокращаемых URL-адресов.</li>
                    <li>Наш сервис предоставляется "как есть" без каких-либо гарантий или поручительств.</li>
                    <li>Мы не несём ответственности за любое неправильное использование или ущерб, причинённый URL-адресами, созданными через эту
                        платформу.
                    </li>
                </ul>
                <b>Используйте на свой страх и риск. Будьте осторожны и уважительны к законам и общественным стандартам.</b>`,
            placeholder: "🌐 Введите ваш длинный URL здесь...",
            createButton: "Создать короткий URL",
            successTitle: "Ваш короткий URL готов!",
            copyButton: "Копировать ссылку",
            copied: "Скопировано!",
            creating: "Создание..."
        }
    };

    let currentLanguage = 'en';

    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[lang];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        // Find the correct option to mark as active
        const clickedOption = document.querySelector(`[onclick="changeLanguage('${lang}')"]`);
        if (clickedOption) {
            clickedOption.classList.add('active');
        }

        // Update all translatable elements
        updateTranslations();

        // Close dropdown
        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateTranslations() {
        const elements = document.querySelectorAll('[data-key]');
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[currentLanguage][key]) {
                if (element.tagName === 'INPUT') {
                    element.placeholder = translations[currentLanguage][key];
                } else {
                    element.innerHTML = translations[currentLanguage][key];
                }
            }
        });
    }

    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function loadLanguage() {
        const savedLanguage = localStorage.getItem('language') || 'en';
        currentLanguage = savedLanguage;

        // Update current language display
        const langCodes = { en: 'EN', uz: 'UZ', ru: 'RU' };
        document.getElementById('current-language').textContent = langCodes[savedLanguage];

        // Update active language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
        });

        const activeOption = document.querySelector(`[onclick="changeLanguage('${savedLanguage}')"]`);
        if (activeOption) {
            activeOption.classList.add('active');
        }

        // Update translations
        updateTranslations();
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const languageSelector = document.querySelector('.language-selector');
        const dropdown = document.getElementById('languageDropdown');

        if (!languageSelector.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });

    function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (body.getAttribute('data-theme') === 'dark') {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
            localStorage.setItem('theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
            localStorage.setItem('theme', 'dark');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (savedTheme === 'dark') {
            body.setAttribute('data-theme', 'dark');
            themeIcon.className = 'fas fa-sun';
            themeText.textContent = translations[currentLanguage].lightMode;
        } else {
            body.removeAttribute('data-theme');
            themeIcon.className = 'fas fa-moon';
            themeText.textContent = translations[currentLanguage].darkMode;
        }
    }

    function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 40;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    function copyToClipboard() {
        const shortUrl = document.querySelector('.short-url');
        if (!shortUrl) return;

        const url = shortUrl.textContent;
        navigator.clipboard.writeText(url).then(() => {
            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;

            btn.textContent = translations[currentLanguage].copied;
            btn.parentElement.style.background = 'var(&#45;&#45;accent-turquoise)';
            btn.parentElement.style.color = 'white';
            btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-turquoise)';

            setTimeout(() => {
                btn.textContent = originalContent;
                btn.parentElement.style.background = 'var(&#45;&#45;primary-60)';
                btn.parentElement.style.color = 'var(&#45;&#45;accent-pink)';
                btn.parentElement.style.borderColor = 'var(&#45;&#45;accent-pink)';
            }, 2500);
        }).catch(() => {
            const textArea = document.createElement('textarea');
            textArea.value = url;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            const btn = document.querySelector('.copy-button span');
            const originalContent = btn.textContent;
            btn.textContent = translations[currentLanguage].copied;
            setTimeout(() => {
                btn.textContent = originalContent;
            }, 2500);
        });
    }

    document.querySelector('form').addEventListener('submit', function(e) {
        const btn = document.querySelector('.submit-button span');
        const submitButton = document.querySelector('.submit-button');
        btn.textContent = translations[currentLanguage].creating;
        submitButton.disabled = true;

        // Don't prevent default form submission, just update UI
        // The theme will be preserved since we're not reloading the page
    });

    function toggleWarning(event) {
        event.stopPropagation();
        const warningCard = document.getElementById('warningCard');
        const isCollapsed = warningCard.classList.contains('collapsed');

        if (isCollapsed) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        } else {
            warningCard.classList.add('collapsed');
            localStorage.setItem('warningState', 'collapsed');
        }
    }

    function handleWarningClick(event) {
        const warningCard = document.getElementById('warningCard');
        if (warningCard.classList.contains('collapsed')) {
            warningCard.classList.remove('collapsed');
            localStorage.setItem('warningState', 'expanded');
        }
    }

    function loadWarningState() {
        const savedState = localStorage.getItem('warningState');
        const warningCard = document.getElementById('warningCard');

        if (savedState === 'collapsed') {
            warningCard.classList.add('collapsed');
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadLanguage();  // Load language first
        loadTheme();     // Then load theme with correct language
        loadWarningState();
        createParticles();

        const input = document.querySelector('.form-input');
        input.addEventListener('focus', function() {
            this.parentElement.style.transform = 'translateY(-2px)';
        });

        input.addEventListener('blur', function() {
            this.parentElement.style.transform = 'translateY(0)';
        });

        // Auto-close warning card when user starts typing
        input.addEventListener('input', function() {
            const warningCard = document.getElementById('warningCard');
            if (!warningCard.classList.contains('collapsed')) {
                warningCard.classList.add('collapsed');
                localStorage.setItem('warningState', 'collapsed');
            }
        });
    });

    document.addEventListener('mousemove', function(e) {
        const card = document.querySelector('.main-card');
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const deltaX = (x - centerX) / centerX;
        const deltaY = (y - centerY) / centerY;

        card.style.transform = `perspective(1000px) rotateY(${deltaX * 3}deg) rotateX(${-deltaY * 3}deg)`;
    });

    document.querySelector('.main-card').addEventListener('mouseleave', function() {
        this.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg)';
    });
</script>
</body>
</html>

-->

